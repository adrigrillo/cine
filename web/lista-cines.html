<div ng-cloak="">
	<!-- COLUMNA DE DECISION DE CINES A MOSTRAR -->
	<div layout="row" class="md-padding" ng-controller="verCines as cines">
		<div flex="25" hide-xs>
			<md-subheader md-no-sticky>
				<span>Categorias</span>
			</md-subheader>
			<md-divider></md-divider>
			<md-list ng-init="mostrar = 2">
				<md-list-item class="secondary-button-padding" ng-click="mostrar = 1"
					ng-class="{'selected':$index == selectedRow}">
					<i class="material-icons cine-ico">favorite</i>
					<p>Favoritos</p>
				</md-list-item>
				<md-divider ng-if="!$last"></md-divider>
				<md-list-item class="secondary-button-padding" ng-click="mostrar = 2"
					ng-class="{'selected':$index == selectedRow}">
					<i class="material-icons cine-ico">near_me</i>
					<p>Cercanos</p>
				</md-list-item>
				<md-divider ng-if="!$last"></md-divider>
				<md-list-item class="secondary-button-padding" ng-click="mostrar = 3"
					ng-class="{'selected':$index == selectedRow}">
					<i class="material-icons cine-ico">star_rate</i>
					<p>Mejor valorados</p>
				</md-list-item>
			</md-list>
		</div>

		<!-- COLUMNA DE LISTA DE CINES DISPONIBLES -->
		<div flex-xs="100" flex="35">
			<md-subheader md-no-sticky>
				<span>Cines</span>
			</md-subheader>
			<md-divider></md-divider>

			<!-- LISTA DE CINES MAS CERCANOS -->
			<md-list ng-show="mostrar === 2" ng-repeat="cine in cines" ng-init="i=$index;" layout-align="start center">
				<md-list-item ng-click="$parent.detalle = i;" class="md-3-line" layout="row" layout-xs="column">
					<img ng-src="{{cine.imagen}}" class="md-avatar" alt="Foto cine"/>
					<div class="md-list-item-text">
						<h3>{{cine.nombre}}</h3>
						<h4>{{cine.encuentra}}</h4>
						<p>{{cine.direccion}}</p>
					</div>
					<md-button class="md-icon-button md-secondary" aria-label="info" hide-gt-xs ng-init="!card"
					  ng-click="card=!card">
						<i class="material-icons">info_outline</i>
					</md-button>
				</md-list-item>

				<!-- DIV DE INFORMACION -->
				<md-card hide-gt-xs ng-show="card">
					<img ng-src="{{cine.mapa}}" alt="mapa" class="md-card-image">
					<md-card-content layout="row" layout-align="start center">
						<md-list>
							<md-list-item>
								<i class="material-icons cine-ico">place</i>
								<a target="_blank" ng-href="{{cines[0].llegar}}">
									{{cine.direccion}}
								</a>
							</md-list-item>
							<md-list-item>
								<i class="material-icons cine-ico">link</i>
								<a target="_blank" ng-href="{{cines[0].paginaweb}}">
									{{cine.paginaweb}}
								</a>
							</md-list-item>
							<md-list-item>
								<i class="material-icons cine-ico">phone</i>
								<p>{{cine.telefono}}</p>
							</md-list-item>
						</md-list>
					</md-card-content>
					<md-card-actions layout="row" layout-align="end center">
						<md-button class="md-icon-button" aria-label="Favorite" ng-init="!liked"
							ng-click="liked=!liked">
							<i class="material-icons pink2 cine-fab mini" ng-show="liked">favorite</i>
							<i class="material-icons pink2 cine-fab mini" ng-show="!liked">favorite_border</i>
						</md-button>
						<md-button class="md-icon-button" aria-label="Llegar">
							<i class="material-icons blue cine-fab mini">navigation</i>
						</md-button>
					</md-card-actions>
				</md-card>
			</md-list>

			<!-- LISTA DE CINES MEJOR VALORADOS -->
			<md-list ng-show="mostrar === 3" ng-repeat="cine in cines | orderBy:'-valoracion'" ng-init="i=$index+4;"
				layout-align="start center">
				<md-list-item ng-click="$parent.detalle = i;" class="md-3-line" layout="row" layout-xs="column" >
					<img ng-src="{{cine.imagen}}" class="md-avatar" alt="Foto cine"/>
					<div class="md-list-item-text">
						<h3>{{cine.nombre}}</h3>
						<h4>{{cine.encuentra}}</h4>
						<p>{{cine.direccion}}</p>
					</div>
					<md-button class="md-icon-button" aria-label="info" hide-gt-xs>
						<i class="material-icons">info_outline</i>
					</md-button>
				</md-list-item>
			</md-list>
		</div>

		<!-- CONTENIDO DE LA INFORMACION -->
		<md-content flex="45" hide-xs ng-init="detalle=0">
			<div>
				<img ng-show="detalle === 0 || detalle === 5" ng-src="{{cines[0].mapa}}" alt="mapa" class="mapa">
				<img ng-show="detalle === 1 || detalle === 4" ng-src="{{cines[1].mapa}}" alt="mapa" class="mapa">
				<img ng-show="detalle === 2 || detalle === 6" ng-src="{{cines[2].mapa}}" alt="mapa" class="mapa">
				<img ng-show="detalle === 3 || detalle === 7" ng-src="{{cines[3].mapa}}" alt="mapa" class="mapa">
			</div>
			<md-toolbar>
				<div class="md-toolbar-tools">
					<md-button class="md-fab md-mini md-warn md-hue" aria-label="Favorito" ng-init="!liked"
						ng-click="liked=!liked">
						<i class="material-icons pink1 cine-fab mini" ng-show="liked">favorite</i>
						<i class="material-icons pink1 cine-fab mini" ng-show="!liked">favorite_border</i>
					</md-button>
					<span flex=""></span>
					<h2>
						<span ng-show="detalle === 0 || detalle === 5">{{cines[0].nombre}}</span>
						<span ng-show="detalle === 1 || detalle === 4">{{cines[1].nombre}}</span>
						<span ng-show="detalle === 2 || detalle === 6">{{cines[2].nombre}}</span>
						<span ng-show="detalle === 3 || detalle === 7">{{cines[3].nombre}}</span>
					</h2>
					<span flex=""></span>
					<md-button class="md-fab md-hue-3 md-secondary" aria-label="Select" ng-click="model.cine = cines[0].nombre" >
						<i class="material-icons md-36 cine-fab">done</i>
					</md-button>
				</div>
			</md-toolbar>
			<div>
				<md-content>
					<md-subheader class="md-primary">
						Informaci√≥n
					</md-subheader>
					<md-list>
						<md-list-item>
							<i class="material-icons cine-ico">place</i>
							<a ng-show="detalle === 0 || detalle === 5" target="_blank" ng-href="{{cines[0].llegar}}">
								{{cines[0].direccion}}
							</a>
							<a ng-show="detalle === 1 || detalle === 4" target="_blank" ng-href="{{cines[1].llegar}}">
								{{cines[1].direccion}}
							</a>
							<a ng-show="detalle === 2 || detalle === 6" target="_blank" ng-href="{{cines[2].llegar}}">
								{{cines[2].direccion}}
							</a>
							<a ng-show="detalle === 3 || detalle === 7" target="_blank" ng-href="{{cines[3].llegar}}">
								{{cines[3].direccion}}
							</a>
						</md-list-item>
						<md-list-item>
							<i class="material-icons cine-ico">link</i>
							<a ng-show="detalle === 0 || detalle === 5" target="_blank"
								ng-href="{{cines[0].paginaweb}}">
								{{cines[0].paginaweb}}
							</a>
							<a ng-show="detalle === 1 || detalle === 4" target="_blank"
								ng-href="{{cines[0].paginaweb}}">
								{{cines[1].paginaweb}}
							</a>
							<a ng-show="detalle === 2 || detalle === 6" target="_blank"
								ng-href="{{cines[0].paginaweb}}">
								{{cines[2].paginaweb}}
							</a>
							<a ng-show="detalle === 3 || detalle === 7" target="_blank"
								ng-href="{{cines[0].paginaweb}}">
								{{cines[3].paginaweb}}
							</a>
						</md-list-item>
						<md-list-item>
							<i class="material-icons cine-ico">phone</i>
							<p ng-show="detalle === 0 || detalle === 5" >{{cines[0].telefono}}</p>
							<p ng-show="detalle === 1 || detalle === 4" >{{cines[1].telefono}}</p>
							<p ng-show="detalle === 2 || detalle === 6" >{{cines[2].telefono}}</p>
							<p ng-show="detalle === 3 || detalle === 7" >{{cines[3].telefono}}</p>
						</md-list-item>
					</md-list>
				</md-content>
			</div>
		</md-content>
	</div>
</div>
